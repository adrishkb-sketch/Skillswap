<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SkillSwap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

<div class="main-content p-5">

    {% with messages = get_flashed_messages() %}
        {% for message in messages %}
            <div class="alert alert-info">{{ message }}</div>
        {% endfor %}
    {% endwith %}

    {% block content %}{% endblock %}

</div>
<script>
function updateTheme() {

    const body = document.body;
    const bgColor = window.getComputedStyle(body).backgroundColor;

    // Extract RGB values
    const rgb = bgColor.match(/\d+/g);
    if (!rgb) return;

    const brightness =
        (parseInt(rgb[0]) * 299 +
         parseInt(rgb[1]) * 587 +
         parseInt(rgb[2]) * 114) / 1000;

    if (brightness < 120) {
        body.classList.add("dark-mode");
    } else {
        body.classList.remove("dark-mode");
    }
}

updateTheme();
setInterval(updateTheme, 2000);
</script>
</body>
</html>